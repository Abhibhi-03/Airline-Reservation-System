
CREATE DATABASE BTD210_Asg2_Group4
USE BTD210_Asg2_Group4



CREATE TABLE AIRLINES(
AIRLINE_CODE VARCHAR(10) PRIMARY KEY,
AIRLINE_NAME VARCHAR(20))



CREATE TABLE AIRCRAFT(
AIRCRAFT_CODE INT PRIMARY KEY,
AIRCRAFT_DESC VARCHAR(100))



CREATE TABLE AIRPORT(
AIRPORT_CODE VARCHAR(10) PRIMARY KEY,
AIRPORT_NAME VARCHAR(100),
AIRPORT_CITY VARCHAR(100))



CREATE TABLE FLIGHTS(
FLIGHT_NUM VARCHAR(10) PRIMARY KEY,
AIRLINE_CODE VARCHAR(10),
AIRCRAFT_CODE  INT,
OPERATED_BY VARCHAR(10),
DEP_AIRPORT_CODE VARCHAR(10),
ARR_AIRPORT_CODE VARCHAR(10),
FOREIGN KEY (AIRLINE_CODE) REFERENCES AIRLINES(AIRLINE_CODE),
FOREIGN KEY (AIRCRAFT_CODE) REFERENCES AIRCRAFT(AIRCRAFT_CODE),
FOREIGN KEY (DEP_AIRPORT_CODE) REFERENCES AIRPORT(AIRPORT_CODE),
FOREIGN KEY (ARR_AIRPORT_CODE) REFERENCES AIRPORT(AIRPORT_CODE))



CREATE TABLE TRAVELER(
TRAVELER_ID INT PRIMARY KEY,
TRAVELER_FNAME VARCHAR(20),
TRAVELER_LNAME VARCHAR(20),
GENDER VARCHAR(20),
MEAL_PREFRENCES VARCHAR(100))




CREATE TABLE TICKET(
ETICKET_NUM DECIMAL(12) PRIMARY KEY,
TRAVELER_ID INT,
TICKET_PRICE DECIMAL(7,2),
TAXES_FEES DECIMAL(6,2),
BOOKING_ID INT,
FOREIGN KEY (TRAVELER_ID) REFERENCES TRAVELER(TRAVELER_ID));




CREATE TABLE BOOKING(
BOOKING_ID INT,
BOOKED_ON DATE,
FLIGHT_NUM VARCHAR(10),
DEP_DATE DATE,
DEP_TIME TIME,
ARR_DATE DATE,
ARR_TIME TIME,
PRIMARY KEY(BOOKING_ID, FLIGHT_NUM),
FOREIGN KEY (FLIGHT_NUM) REFERENCES FLIGHTS(FLIGHT_NUM))




INSERT INTO AIRCRAFT(AIRCRAFT_CODE,AIRCRAFT_DESC)
VALUES ('772','BOEING 777 285-305 STD SEATS')
INSERT INTO AIRCRAFT(AIRCRAFT_CODE,AIRCRAFT_DESC)
VALUES ('332','AIRBUS INDUSTRIE JET 200-345 STD STD SEATS')



INSERT INTO AIRLINES(AIRLINE_CODE,AIRLINE_NAME)
VALUES ('AF','Air France')



INSERT INTO AIRPORT(AIRPORT_CODE,AIRPORT_NAME,AIRPORT_CITY)
VALUES ('CDG','Charles de Gaul','Paris')
INSERT INTO AIRPORT(AIRPORT_CODE,AIRPORT_CITY)
VALUES ('BEY','Beirut')
INSERT INTO AIRPORT(AIRPORT_CODE,AIRPORT_NAME,AIRPORT_CITY)
VALUES ('YYZ','Toronto Pearson Intl. Ontario','Toronto')



INSERT INTO FLIGHTS(FLIGHT_NUM,AIRCRAFT_CODE,AIRLINE_CODE,OPERATED_BY,DEP_AIRPORT_CODE,ARR_AIRPORT_CODE)
VALUES ('AF393','772','AF','AF','YYZ','CDG')
INSERT INTO FLIGHTS(FLIGHT_NUM,AIRCRAFT_CODE,AIRLINE_CODE,OPERATED_BY,DEP_AIRPORT_CODE,ARR_AIRPORT_CODE)
VALUES ('AF5106','332','AF','MEA','CDG','BEY')
INSERT INTO FLIGHTS(FLIGHT_NUM,AIRCRAFT_CODE,AIRLINE_CODE,OPERATED_BY,DEP_AIRPORT_CODE,ARR_AIRPORT_CODE)
VALUES ('AF386','772','AF','AF','CDG','YYZ')



INSERT INTO TRAVELER(TRAVELER_ID,TRAVELER_FNAME,TRAVELER_LNAME,GENDER,MEAL_PREFRENCES)
VALUES('111','Andrew','Smith','Male','Vegetarian')
INSERT INTO TRAVELER(TRAVELER_ID,TRAVELER_FNAME,TRAVELER_LNAME,GENDER,MEAL_PREFRENCES)
VALUES('112','Mariam','Daoud','Female','Halal')
INSERT INTO TRAVELER(TRAVELER_ID,TRAVELER_FNAME,TRAVELER_LNAME,GENDER,MEAL_PREFRENCES)
VALUES('113','Yasmine','Ch','Female','Vegetarian')
INSERT INTO TRAVELER(TRAVELER_ID,TRAVELER_FNAME,TRAVELER_LNAME,GENDER,MEAL_PREFRENCES)
VALUES('114','Hasan','Ch','Male','Halal')



INSERT INTO TICKET VALUES (573480996631, 111, 1200, 182, 56753936);
INSERT INTO TICKET VALUES (573480996619, 112, 1353, 182, 56753365);
INSERT INTO TICKET VALUES (573480996620, 113, 1142, 180, 56753365);
INSERT INTO TICKET VALUES (0573480996621, 114, 1142, 180, 56753365);



INSERT INTO BOOKING(BOOKING_ID,BOOKED_ON,FLIGHT_NUM,DEP_DATE,DEP_TIME,ARR_DATE,ARR_TIME)
VALUES('56753365','28 Jan 2019','AF393','22 Jun 19','09:20 PM','23 Jun 19','10:50 AM')
INSERT INTO BOOKING(BOOKING_ID,BOOKED_ON,FLIGHT_NUM,DEP_DATE,DEP_TIME,ARR_DATE,ARR_TIME)
VALUES('56753936','25 Jan 2019','AF393','22 Jun 19','09:20 PM','23 Jun 19','10:50 AM')
INSERT INTO BOOKING(BOOKING_ID,BOOKED_ON,FLIGHT_NUM,DEP_DATE,DEP_TIME,ARR_DATE,ARR_TIME)
VALUES('56753365','28 Jan 2019','AF5106','23 Jun 19','01:40 PM','23 Jun 19','06:55 PM')
INSERT INTO BOOKING(BOOKING_ID,BOOKED_ON,FLIGHT_NUM,DEP_DATE,DEP_TIME,ARR_DATE,ARR_TIME)
VALUES('56753936','25 Jan 2019','AF386','17 Jul 19','05:00 PM','17 Jul 19','07:20 PM')



